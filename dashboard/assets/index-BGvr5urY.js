import{r as w,a as kt,R as nt}from"./vendor-wGySg1uH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var rt={exports:{}},fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=w,Pt=Symbol.for("react.element"),Lt=Symbol.for("react.fragment"),Ft=Object.prototype.hasOwnProperty,Dt=vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ut={key:!0,ref:!0,__self:!0,__source:!0};function st(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Ft.call(t,r)&&!Ut.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Pt,type:e,key:o,ref:a,props:s,_owner:Dt.current}}fe.Fragment=Lt;fe.jsx=st;fe.jsxs=st;rt.exports=fe;var i=rt.exports,Ee={},Ue=kt;Ee.createRoot=Ue.createRoot,Ee.hydrateRoot=Ue.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:c="",children:h,...u},d)=>w.createElement("svg",{ref:d,...Bt,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${$t(e)}`,c].join(" "),...u},[...t.map(([m,b])=>w.createElement(m,b)),...Array.isArray(h)?h:[h]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=_("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=_("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=_("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=_("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=_("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=_("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=_("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=_("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=_("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=_("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=_("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=_("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=_("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=_("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=_("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function I(e,t="AUD"){return new Intl.NumberFormat("en-AU",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function le(e,t=2){return`${e>=0?"+":""}${e.toFixed(t)}%`}function ue(e){return e>0?"text-profit":e<0?"text-loss":"text-neutral"}function en(e){return new Date(e).toLocaleString("en-AU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function tn(e){switch(e){case"OPEN":return"bg-blue-100 text-blue-800";case"CLOSED":return"bg-gray-100 text-gray-800";case"CANCELLED":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}}function nn(e){return e==="BUY"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}const q=({label:e,value:t,format:n="currency",change:r,icon:s,iconColor:o="text-gray-400",className:a=""})=>{const c=nt.useMemo(()=>{switch(n){case"currency":return I(t);case"percent":return le(t);case"number":return t.toLocaleString("en-AU");default:return t.toString()}},[t,n]),h=n==="currency"||n==="percent"?ue(t):"text-gray-900";return i.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${a}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:e}),i.jsx("p",{className:`text-2xl font-bold mt-1 ${h}`,children:c}),r!==void 0&&i.jsxs("p",{className:`text-sm mt-1 ${ue(r)}`,children:[le(r)," from previous"]})]}),s&&i.jsx("div",{className:`p-3 rounded-full bg-gray-50 ${o}`,children:i.jsx(s,{className:"w-6 h-6"})})]})})},$e=({children:e,columns:t=4,className:n=""})=>{const r={2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"};return i.jsx("div",{className:`grid ${r[t]} gap-4 ${n}`,children:e})},rn=({trades:e,total:t,page:n,pageSize:r,totalPages:s,loading:o=!1,onPageChange:a,onSort:c,sortBy:h="entry_date",sortDesc:u=!0})=>{const d=p=>{c&&c(p,h===p?!u:!0)},m=({column:p})=>h!==p?null:u?i.jsx(Mt,{className:"w-4 h-4 inline ml-1"}):i.jsx(Jt,{className:"w-4 h-4 inline ml-1"}),b=[{key:"entry_date",label:"Date",sortable:!0},{key:"ticker",label:"Ticker",sortable:!0},{key:"direction",label:"Direction",sortable:!1},{key:"quantity",label:"Qty",sortable:!0},{key:"entry_price",label:"Entry",sortable:!0},{key:"exit_price",label:"Exit",sortable:!0},{key:"pnl",label:"P&L",sortable:!0},{key:"pnl_percent",label:"P&L %",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"strategy_name",label:"Strategy",sortable:!0}];return i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trade History"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[t.toLocaleString()," total trades"]})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsx("tr",{children:b.map(p=>i.jsxs("th",{className:`px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${p.sortable?"cursor-pointer hover:bg-gray-100":""}`,onClick:()=>p.sortable&&d(p.key),children:[p.label,p.sortable&&i.jsx(m,{column:p.key})]},p.key))})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o?i.jsx("tr",{children:i.jsx("td",{colSpan:b.length,className:"px-4 py-8 text-center",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-2 text-gray-500",children:"Loading trades..."})]})})}):e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:b.length,className:"px-4 py-8 text-center text-gray-500",children:"No trades found"})}):e.map(p=>i.jsx(sn,{trade:p},p.id))})]})}),i.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(n-1)*r+1," to"," ",Math.min(n*r,t)," of ",t]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>a(n-1),disabled:n<=1,className:"p-2 rounded border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:i.jsx(Ht,{className:"w-4 h-4"})}),i.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",n," of ",s]}),i.jsx("button",{onClick:()=>a(n+1),disabled:n>=s,className:"p-2 rounded border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:i.jsx(zt,{className:"w-4 h-4"})})]})]})})]})},sn=({trade:e})=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:en(e.entry_date)}),i.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[i.jsx("span",{className:"font-mono font-medium text-gray-900",children:e.ticker}),e.asset_class&&i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:e.asset_class})]}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${nn(e.direction)}`,children:e.direction})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 font-mono",children:e.quantity.toLocaleString()}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 font-mono",children:I(e.entry_price)}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 font-mono",children:e.exit_price?I(e.exit_price):"-"}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.pnl!==null&&e.pnl!==void 0?i.jsx("span",{className:`text-sm font-medium font-mono ${ue(e.pnl)}`,children:I(e.pnl)}):i.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.pnl_percent!==null&&e.pnl_percent!==void 0?i.jsx("span",{className:`text-sm font-medium font-mono ${ue(e.pnl_percent)}`,children:le(e.pnl_percent)}):i.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${tn(e.status)}`,children:e.status})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:e.strategy_name})]}),on=({filters:e,onFilterChange:t,onClear:n})=>{var m,b;const[r,s]=w.useState(e),[o,a]=w.useState(!1),c=(p,f)=>{const x={...r,[p]:f||void 0};s(x)},h=()=>{t(r)},u=()=>{s({}),n()},d=Object.values(e).some(p=>p!==void 0);return i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-xs",children:[i.jsx(Xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search ticker...",value:r.ticker||"",onChange:p=>c("ticker",p.target.value.toUpperCase()),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("select",{value:r.status||"",onChange:p=>c("status",p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"OPEN",children:"Open"}),i.jsx("option",{value:"CLOSED",children:"Closed"}),i.jsx("option",{value:"CANCELLED",children:"Cancelled"})]}),i.jsxs("select",{value:r.strategy||"",onChange:p=>c("strategy",p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Strategies"}),i.jsx("option",{value:"dual_momentum",children:"Dual Momentum"}),i.jsx("option",{value:"momentum",children:"Momentum"}),i.jsx("option",{value:"hrp",children:"HRP"})]}),i.jsxs("button",{onClick:()=>a(!o),className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[i.jsx(Kt,{className:"w-4 h-4"}),o?"Less":"More"]}),i.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Apply"}),d&&i.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[i.jsx(Yt,{className:"w-4 h-4"}),"Clear"]})]}),o&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx("input",{type:"date",value:((m=r.start_date)==null?void 0:m.split("T")[0])||"",onChange:p=>c("start_date",p.target.value?`${p.target.value}T00:00:00`:void 0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),i.jsx("input",{type:"date",value:((b=r.end_date)==null?void 0:b.split("T")[0])||"",onChange:p=>c("end_date",p.target.value?`${p.target.value}T23:59:59`:void 0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),i.jsxs("select",{value:r.sort_by||"entry_date",onChange:p=>c("sort_by",p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"entry_date",children:"Entry Date"}),i.jsx("option",{value:"ticker",children:"Ticker"}),i.jsx("option",{value:"pnl",children:"P&L"}),i.jsx("option",{value:"pnl_percent",children:"P&L %"}),i.jsx("option",{value:"quantity",children:"Quantity"})]})]})]})]})};function ot(e,t){return function(){return e.apply(t,arguments)}}const{toString:an}=Object.prototype,{getPrototypeOf:Ce}=Object,{iterator:pe,toStringTag:at}=Symbol,he=(e=>t=>{const n=an.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),L=e=>(e=e.toLowerCase(),t=>he(t)===e),me=e=>t=>typeof t===e,{isArray:K}=Array,V=me("undefined");function Y(e){return e!==null&&!V(e)&&e.constructor!==null&&!V(e.constructor)&&A(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const it=L("ArrayBuffer");function cn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&it(e.buffer),t}const ln=me("string"),A=me("function"),ct=me("number"),ee=e=>e!==null&&typeof e=="object",un=e=>e===!0||e===!1,ae=e=>{if(he(e)!=="object")return!1;const t=Ce(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(at in e)&&!(pe in e)},dn=e=>{if(!ee(e)||Y(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fn=L("Date"),pn=L("File"),hn=L("Blob"),mn=L("FileList"),yn=e=>ee(e)&&A(e.pipe),xn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||A(e.append)&&((t=he(e))==="formdata"||t==="object"&&A(e.toString)&&e.toString()==="[object FormData]"))},gn=L("URLSearchParams"),[bn,wn,Sn,En]=["ReadableStream","Request","Response","Headers"].map(L),jn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function te(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),K(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Y(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let c;for(r=0;r<a;r++)c=o[r],t.call(null,e[c],c,e)}}function lt(e,t){if(Y(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const H=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ut=e=>!V(e)&&e!==H;function je(){const{caseless:e,skipUndefined:t}=ut(this)&&this||{},n={},r=(s,o)=>{const a=e&&lt(n,o)||o;ae(n[a])&&ae(s)?n[a]=je(n[a],s):ae(s)?n[a]=je({},s):K(s)?n[a]=s.slice():(!t||!V(s))&&(n[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&te(arguments[s],r);return n}const Nn=(e,t,n,{allOwnKeys:r}={})=>(te(t,(s,o)=>{n&&A(s)?e[o]=ot(s,n):e[o]=s},{allOwnKeys:r}),e),Rn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tn=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Cn=(e,t,n,r)=>{let s,o,a;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],(!r||r(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=n!==!1&&Ce(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},_n=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},On=e=>{if(!e)return null;if(K(e))return e;let t=e.length;if(!ct(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},An=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ce(Uint8Array)),kn=(e,t)=>{const r=(e&&e[pe]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},vn=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Pn=L("HTMLFormElement"),Ln=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),qe=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Fn=L("RegExp"),dt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};te(n,(s,o)=>{let a;(a=t(s,o,e))!==!1&&(r[o]=a||s)}),Object.defineProperties(e,r)},Dn=e=>{dt(e,(t,n)=>{if(A(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(A(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Un=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return K(e)?r(e):r(String(e).split(t)),n},Bn=()=>{},$n=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function qn(e){return!!(e&&A(e.append)&&e[at]==="FormData"&&e[pe])}const In=e=>{const t=new Array(10),n=(r,s)=>{if(ee(r)){if(t.indexOf(r)>=0)return;if(Y(r))return r;if(!("toJSON"in r)){t[s]=r;const o=K(r)?[]:{};return te(r,(a,c)=>{const h=n(a,s+1);!V(h)&&(o[c]=h)}),t[s]=void 0,o}}return r};return n(e,0)},Mn=L("AsyncFunction"),Hn=e=>e&&(ee(e)||A(e))&&A(e.then)&&A(e.catch),ft=((e,t)=>e?setImmediate:t?((n,r)=>(H.addEventListener("message",({source:s,data:o})=>{s===H&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),H.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",A(H.postMessage)),zn=typeof queueMicrotask<"u"?queueMicrotask.bind(H):typeof process<"u"&&process.nextTick||ft,Jn=e=>e!=null&&A(e[pe]),l={isArray:K,isArrayBuffer:it,isBuffer:Y,isFormData:xn,isArrayBufferView:cn,isString:ln,isNumber:ct,isBoolean:un,isObject:ee,isPlainObject:ae,isEmptyObject:dn,isReadableStream:bn,isRequest:wn,isResponse:Sn,isHeaders:En,isUndefined:V,isDate:fn,isFile:pn,isBlob:hn,isRegExp:Fn,isFunction:A,isStream:yn,isURLSearchParams:gn,isTypedArray:An,isFileList:mn,forEach:te,merge:je,extend:Nn,trim:jn,stripBOM:Rn,inherits:Tn,toFlatObject:Cn,kindOf:he,kindOfTest:L,endsWith:_n,toArray:On,forEachEntry:kn,matchAll:vn,isHTMLForm:Pn,hasOwnProperty:qe,hasOwnProp:qe,reduceDescriptors:dt,freezeMethods:Dn,toObjectSet:Un,toCamelCase:Ln,noop:Bn,toFiniteNumber:$n,findKey:lt,global:H,isContextDefined:ut,isSpecCompliantForm:qn,toJSONObject:In,isAsyncFn:Mn,isThenable:Hn,setImmediate:ft,asap:zn,isIterable:Jn};function g(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}l.inherits(g,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.status}}});const pt=g.prototype,ht={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ht[e]={value:e}});Object.defineProperties(g,ht);Object.defineProperty(pt,"isAxiosError",{value:!0});g.from=(e,t,n,r,s,o)=>{const a=Object.create(pt);l.toFlatObject(e,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const c=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return g.call(a,c,h,n,r,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",o&&Object.assign(a,o),a};const Wn=null;function Ne(e){return l.isPlainObject(e)||l.isArray(e)}function mt(e){return l.endsWith(e,"[]")?e.slice(0,-2):e}function Ie(e,t,n){return e?e.concat(t).map(function(s,o){return s=mt(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function Vn(e){return l.isArray(e)&&!e.some(Ne)}const Kn=l.toFlatObject(l,{},null,function(t){return/^is[A-Z]/.test(t)});function ye(e,t,n){if(!l.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=l.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!l.isUndefined(y[x])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(t);if(!l.isFunction(s))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(l.isDate(f))return f.toISOString();if(l.isBoolean(f))return f.toString();if(!h&&l.isBlob(f))throw new g("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(f)||l.isTypedArray(f)?h&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function d(f,x,y){let E=f;if(f&&!y&&typeof f=="object"){if(l.endsWith(x,"{}"))x=r?x:x.slice(0,-2),f=JSON.stringify(f);else if(l.isArray(f)&&Vn(f)||(l.isFileList(f)||l.endsWith(x,"[]"))&&(E=l.toArray(f)))return x=mt(x),E.forEach(function(S,R){!(l.isUndefined(S)||S===null)&&t.append(a===!0?Ie([x],R,o):a===null?x:x+"[]",u(S))}),!1}return Ne(f)?!0:(t.append(Ie(y,x,o),u(f)),!1)}const m=[],b=Object.assign(Kn,{defaultVisitor:d,convertValue:u,isVisitable:Ne});function p(f,x){if(!l.isUndefined(f)){if(m.indexOf(f)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(f),l.forEach(f,function(E,C){(!(l.isUndefined(E)||E===null)&&s.call(t,E,l.isString(C)?C.trim():C,x,b))===!0&&p(E,x?x.concat(C):[C])}),m.pop()}}if(!l.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Me(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _e(e,t){this._pairs=[],e&&ye(e,this,t)}const yt=_e.prototype;yt.append=function(t,n){this._pairs.push([t,n])};yt.toString=function(t){const n=t?function(r){return t.call(this,r,Me)}:Me;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Xn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xt(e,t,n){if(!t)return e;const r=n&&n.encode||Xn;l.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=l.isURLSearchParams(t)?t.toString():new _e(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class He{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){l.forEach(this.handlers,function(r){r!==null&&t(r)})}}const gt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qn=typeof URLSearchParams<"u"?URLSearchParams:_e,Gn=typeof FormData<"u"?FormData:null,Zn=typeof Blob<"u"?Blob:null,Yn={isBrowser:!0,classes:{URLSearchParams:Qn,FormData:Gn,Blob:Zn},protocols:["http","https","file","blob","url","data"]},Oe=typeof window<"u"&&typeof document<"u",Re=typeof navigator=="object"&&navigator||void 0,er=Oe&&(!Re||["ReactNative","NativeScript","NS"].indexOf(Re.product)<0),tr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nr=Oe&&window.location.href||"http://localhost",rr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Oe,hasStandardBrowserEnv:er,hasStandardBrowserWebWorkerEnv:tr,navigator:Re,origin:nr},Symbol.toStringTag,{value:"Module"})),T={...rr,...Yn};function sr(e,t){return ye(e,new T.classes.URLSearchParams,{visitor:function(n,r,s,o){return T.isNode&&l.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function or(e){return l.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ar(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function bt(e){function t(n,r,s,o){let a=n[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),h=o>=n.length;return a=!a&&l.isArray(s)?s.length:a,h?(l.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!l.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],o)&&l.isArray(s[a])&&(s[a]=ar(s[a])),!c)}if(l.isFormData(e)&&l.isFunction(e.entries)){const n={};return l.forEachEntry(e,(r,s)=>{t(or(r),s,n,0)}),n}return null}function ir(e,t,n){if(l.isString(e))try{return(t||JSON.parse)(e),l.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ne={transitional:gt,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=l.isObject(t);if(o&&l.isHTMLForm(t)&&(t=new FormData(t)),l.isFormData(t))return s?JSON.stringify(bt(t)):t;if(l.isArrayBuffer(t)||l.isBuffer(t)||l.isStream(t)||l.isFile(t)||l.isBlob(t)||l.isReadableStream(t))return t;if(l.isArrayBufferView(t))return t.buffer;if(l.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sr(t,this.formSerializer).toString();if((c=l.isFileList(t))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return ye(c?{"files[]":t}:t,h&&new h,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),ir(t)):t}],transformResponse:[function(t){const n=this.transitional||ne.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(l.isResponse(t)||l.isReadableStream(t))return t;if(t&&l.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?g.from(c,g.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:T.classes.FormData,Blob:T.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],e=>{ne.headers[e]={}});const cr=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lr=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&cr[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ze=Symbol("internals");function Z(e){return e&&String(e).trim().toLowerCase()}function ie(e){return e===!1||e==null?e:l.isArray(e)?e.map(ie):String(e)}function ur(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const dr=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function be(e,t,n,r,s){if(l.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!l.isString(t)){if(l.isString(r))return t.indexOf(r)!==-1;if(l.isRegExp(r))return r.test(t)}}function fr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function pr(e,t){const n=l.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,a){return this[r].call(this,t,s,o,a)},configurable:!0})})}let k=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(c,h,u){const d=Z(h);if(!d)throw new Error("header name must be a non-empty string");const m=l.findKey(s,d);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||h]=ie(c))}const a=(c,h)=>l.forEach(c,(u,d)=>o(u,d,h));if(l.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(l.isString(t)&&(t=t.trim())&&!dr(t))a(lr(t),n);else if(l.isObject(t)&&l.isIterable(t)){let c={},h,u;for(const d of t){if(!l.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(h=c[u])?l.isArray(h)?[...h,d[1]]:[h,d[1]]:d[1]}a(c,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Z(t),t){const r=l.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return ur(s);if(l.isFunction(n))return n.call(this,s,r);if(l.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Z(t),t){const r=l.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||be(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(a){if(a=Z(a),a){const c=l.findKey(r,a);c&&(!n||be(r,r[c],c,n))&&(delete r[c],s=!0)}}return l.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||be(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return l.forEach(this,(s,o)=>{const a=l.findKey(r,o);if(a){n[a]=ie(s),delete n[o];return}const c=t?fr(o):String(o).trim();c!==o&&delete n[o],n[c]=ie(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return l.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&l.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ze]=this[ze]={accessors:{}}).accessors,s=this.prototype;function o(a){const c=Z(a);r[c]||(pr(s,a),r[c]=!0)}return l.isArray(t)?t.forEach(o):o(t),this}};k.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(k.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});l.freezeMethods(k);function we(e,t){const n=this||ne,r=t||n,s=k.from(r.headers);let o=r.data;return l.forEach(e,function(c){o=c.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function wt(e){return!!(e&&e.__CANCEL__)}function X(e,t,n){g.call(this,e??"canceled",g.ERR_CANCELED,t,n),this.name="CanceledError"}l.inherits(X,g,{__CANCEL__:!0});function St(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new g("Request failed with status code "+n.status,[g.ERR_BAD_REQUEST,g.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function hr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mr(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,a;return t=t!==void 0?t:1e3,function(h){const u=Date.now(),d=r[o];a||(a=u),n[s]=h,r[s]=u;let m=o,b=0;for(;m!==s;)b+=n[m++],m=m%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-a<t)return;const p=d&&u-d;return p?Math.round(b*1e3/p):void 0}}function yr(e,t){let n=0,r=1e3/t,s,o;const a=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-n;m>=r?a(u,d):(s=u,o||(o=setTimeout(()=>{o=null,a(s)},r-m)))},()=>s&&a(s)]}const de=(e,t,n=3)=>{let r=0;const s=mr(50,250);return yr(o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,h=a-r,u=s(h),d=a<=c;r=a;const m={loaded:a,total:c,progress:c?a/c:void 0,bytes:h,rate:u||void 0,estimated:u&&c&&d?(c-a)/u:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},n)},Je=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},We=e=>(...t)=>l.asap(()=>e(...t)),xr=T.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,T.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(T.origin),T.navigator&&/(msie|trident)/i.test(T.navigator.userAgent)):()=>!0,gr=T.hasStandardBrowserEnv?{write(e,t,n,r,s,o,a){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];l.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),l.isString(r)&&c.push(`path=${r}`),l.isString(s)&&c.push(`domain=${s}`),o===!0&&c.push("secure"),l.isString(a)&&c.push(`SameSite=${a}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function br(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Et(e,t,n){let r=!br(t);return e&&(r||n==!1)?wr(e,t):t}const Ve=e=>e instanceof k?{...e}:e;function J(e,t){t=t||{};const n={};function r(u,d,m,b){return l.isPlainObject(u)&&l.isPlainObject(d)?l.merge.call({caseless:b},u,d):l.isPlainObject(d)?l.merge({},d):l.isArray(d)?d.slice():d}function s(u,d,m,b){if(l.isUndefined(d)){if(!l.isUndefined(u))return r(void 0,u,m,b)}else return r(u,d,m,b)}function o(u,d){if(!l.isUndefined(d))return r(void 0,d)}function a(u,d){if(l.isUndefined(d)){if(!l.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function c(u,d,m){if(m in t)return r(u,d);if(m in e)return r(void 0,u)}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(u,d,m)=>s(Ve(u),Ve(d),m,!0)};return l.forEach(Object.keys({...e,...t}),function(d){const m=h[d]||s,b=m(e[d],t[d],d);l.isUndefined(b)&&m!==c||(n[d]=b)}),n}const jt=e=>{const t=J({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:c}=t;if(t.headers=a=k.from(a),t.url=xt(Et(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),l.isFormData(n)){if(T.hasStandardBrowserEnv||T.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(l.isFunction(n.getHeaders)){const h=n.getHeaders(),u=["content-type","content-length"];Object.entries(h).forEach(([d,m])=>{u.includes(d.toLowerCase())&&a.set(d,m)})}}if(T.hasStandardBrowserEnv&&(r&&l.isFunction(r)&&(r=r(t)),r||r!==!1&&xr(t.url))){const h=s&&o&&gr.read(o);h&&a.set(s,h)}return t},Sr=typeof XMLHttpRequest<"u",Er=Sr&&function(e){return new Promise(function(n,r){const s=jt(e);let o=s.data;const a=k.from(s.headers).normalize();let{responseType:c,onUploadProgress:h,onDownloadProgress:u}=s,d,m,b,p,f;function x(){p&&p(),f&&f(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function E(){if(!y)return;const S=k.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),v={data:!c||c==="text"||c==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:e,request:y};St(function(O){n(O),x()},function(O){r(O),x()},v),y=null}"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(E)},y.onabort=function(){y&&(r(new g("Request aborted",g.ECONNABORTED,e,y)),y=null)},y.onerror=function(R){const v=R&&R.message?R.message:"Network Error",U=new g(v,g.ERR_NETWORK,e,y);U.event=R||null,r(U),y=null},y.ontimeout=function(){let R=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const v=s.transitional||gt;s.timeoutErrorMessage&&(R=s.timeoutErrorMessage),r(new g(R,v.clarifyTimeoutError?g.ETIMEDOUT:g.ECONNABORTED,e,y)),y=null},o===void 0&&a.setContentType(null),"setRequestHeader"in y&&l.forEach(a.toJSON(),function(R,v){y.setRequestHeader(v,R)}),l.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),c&&c!=="json"&&(y.responseType=s.responseType),u&&([b,f]=de(u,!0),y.addEventListener("progress",b)),h&&y.upload&&([m,p]=de(h),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=S=>{y&&(r(!S||S.type?new X(null,e,y):S),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const C=hr(s.url);if(C&&T.protocols.indexOf(C)===-1){r(new g("Unsupported protocol "+C+":",g.ERR_BAD_REQUEST,e));return}y.send(o||null)})},jr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,c();const d=u instanceof Error?u:this.reason;r.abort(d instanceof g?d:new X(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,o(new g(`timeout ${t} of ms exceeded`,g.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:h}=r;return h.unsubscribe=()=>l.asap(c),h}},Nr=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Rr=async function*(e,t){for await(const n of Tr(e))yield*Nr(n,t)},Tr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Ke=(e,t,n,r)=>{const s=Rr(e,t);let o=0,a,c=h=>{a||(a=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:u,value:d}=await s.next();if(u){c(),h.close();return}let m=d.byteLength;if(n){let b=o+=m;n(b)}h.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(h){return c(h),s.return()}},{highWaterMark:2})},Xe=64*1024,{isFunction:oe}=l,Cr=(({Request:e,Response:t})=>({Request:e,Response:t}))(l.global),{ReadableStream:Qe,TextEncoder:Ge}=l.global,Ze=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_r=e=>{e=l.merge.call({skipUndefined:!0},Cr,e);const{fetch:t,Request:n,Response:r}=e,s=t?oe(t):typeof fetch=="function",o=oe(n),a=oe(r);if(!s)return!1;const c=s&&oe(Qe),h=s&&(typeof Ge=="function"?(f=>x=>f.encode(x))(new Ge):async f=>new Uint8Array(await new n(f).arrayBuffer())),u=o&&c&&Ze(()=>{let f=!1;const x=new n(T.origin,{body:new Qe,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!x}),d=a&&c&&Ze(()=>l.isReadableStream(new r("").body)),m={stream:d&&(f=>f.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!m[f]&&(m[f]=(x,y)=>{let E=x&&x[f];if(E)return E.call(x);throw new g(`Response type '${f}' is not supported`,g.ERR_NOT_SUPPORT,y)})});const b=async f=>{if(f==null)return 0;if(l.isBlob(f))return f.size;if(l.isSpecCompliantForm(f))return(await new n(T.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(l.isArrayBufferView(f)||l.isArrayBuffer(f))return f.byteLength;if(l.isURLSearchParams(f)&&(f=f+""),l.isString(f))return(await h(f)).byteLength},p=async(f,x)=>{const y=l.toFiniteNumber(f.getContentLength());return y??b(x)};return async f=>{let{url:x,method:y,data:E,signal:C,cancelToken:S,timeout:R,onDownloadProgress:v,onUploadProgress:U,responseType:O,headers:Q,withCredentials:j="same-origin",fetchOptions:ke}=jt(f),ve=t||fetch;O=O?(O+"").toLowerCase():"text";let re=jr([C,S&&S.toAbortSignal()],R),G=null;const M=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let Pe;try{if(U&&u&&y!=="get"&&y!=="head"&&(Pe=await p(Q,E))!==0){let $=new n(x,{method:"POST",body:E,duplex:"half"}),W;if(l.isFormData(E)&&(W=$.headers.get("content-type"))&&Q.setContentType(W),$.body){const[ge,se]=Je(Pe,de(We(U)));E=Ke($.body,Xe,ge,se)}}l.isString(j)||(j=j?"include":"omit");const F=o&&"credentials"in n.prototype,Le={...ke,signal:re,method:y.toUpperCase(),headers:Q.normalize().toJSON(),body:E,duplex:"half",credentials:F?j:void 0};G=o&&new n(x,Le);let B=await(o?ve(G,ke):ve(x,Le));const Fe=d&&(O==="stream"||O==="response");if(d&&(v||Fe&&M)){const $={};["status","statusText","headers"].forEach(De=>{$[De]=B[De]});const W=l.toFiniteNumber(B.headers.get("content-length")),[ge,se]=v&&Je(W,de(We(v),!0))||[];B=new r(Ke(B.body,Xe,ge,()=>{se&&se(),M&&M()}),$)}O=O||"text";let At=await m[l.findKey(m,O)||"text"](B,f);return!Fe&&M&&M(),await new Promise(($,W)=>{St($,W,{data:At,headers:k.from(B.headers),status:B.status,statusText:B.statusText,config:f,request:G})})}catch(F){throw M&&M(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new g("Network Error",g.ERR_NETWORK,f,G),{cause:F.cause||F}):g.from(F,F&&F.code,f,G)}}},Or=new Map,Nt=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let a=o.length,c=a,h,u,d=Or;for(;c--;)h=o[c],u=d.get(h),u===void 0&&d.set(h,u=c?new Map:_r(t)),d=u;return u};Nt();const Ae={http:Wn,xhr:Er,fetch:{get:Nt}};l.forEach(Ae,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ye=e=>`- ${e}`,Ar=e=>l.isFunction(e)||e===null||e===!1;function kr(e,t){e=l.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let a=0;a<n;a++){r=e[a];let c;if(s=r,!Ar(r)&&(s=Ae[(c=String(r)).toLowerCase()],s===void 0))throw new g(`Unknown adapter '${c}'`);if(s&&(l.isFunction(s)||(s=s.get(t))))break;o[c||"#"+a]=s}if(!s){const a=Object.entries(o).map(([h,u])=>`adapter ${h} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(Ye).join(`
`):" "+Ye(a[0]):"as no adapter specified";throw new g("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const Rt={getAdapter:kr,adapters:Ae};function Se(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new X(null,e)}function et(e){return Se(e),e.headers=k.from(e.headers),e.data=we.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rt.getAdapter(e.adapter||ne.adapter,e)(e).then(function(r){return Se(e),r.data=we.call(e,e.transformResponse,r),r.headers=k.from(r.headers),r},function(r){return wt(r)||(Se(e),r&&r.response&&(r.response.data=we.call(e,e.transformResponse,r.response),r.response.headers=k.from(r.response.headers))),Promise.reject(r)})}const Tt="1.13.2",xe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xe[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const tt={};xe.transitional=function(t,n,r){function s(o,a){return"[Axios v"+Tt+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(t===!1)throw new g(s(a," has been removed"+(n?" in "+n:"")),g.ERR_DEPRECATED);return n&&!tt[a]&&(tt[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,c):!0}};xe.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function vr(e,t,n){if(typeof e!="object")throw new g("options must be an object",g.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],a=t[o];if(a){const c=e[o],h=c===void 0||a(c,o,e);if(h!==!0)throw new g("option "+o+" must be "+h,g.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new g("Unknown option "+o,g.ERR_BAD_OPTION)}}const ce={assertOptions:vr,validators:xe},D=ce.validators;let z=class{constructor(t){this.defaults=t||{},this.interceptors={request:new He,response:new He}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=J(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&ce.assertOptions(r,{silentJSONParsing:D.transitional(D.boolean),forcedJSONParsing:D.transitional(D.boolean),clarifyTimeoutError:D.transitional(D.boolean)},!1),s!=null&&(l.isFunction(s)?n.paramsSerializer={serialize:s}:ce.assertOptions(s,{encode:D.function,serialize:D.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ce.assertOptions(n,{baseUrl:D.spelling("baseURL"),withXsrfToken:D.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&l.merge(o.common,o[n.method]);o&&l.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),n.headers=k.concat(a,o);const c=[];let h=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(h=h&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,m=0,b;if(!h){const f=[et.bind(this),void 0];for(f.unshift(...c),f.push(...u),b=f.length,d=Promise.resolve(n);m<b;)d=d.then(f[m++],f[m++]);return d}b=c.length;let p=n;for(;m<b;){const f=c[m++],x=c[m++];try{p=f(p)}catch(y){x.call(this,y);break}}try{d=et.call(this,p)}catch(f){return Promise.reject(f)}for(m=0,b=u.length;m<b;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=J(this.defaults,t);const n=Et(t.baseURL,t.url,t.allowAbsoluteUrls);return xt(n,t.params,t.paramsSerializer)}};l.forEach(["delete","get","head","options"],function(t){z.prototype[t]=function(n,r){return this.request(J(r||{},{method:t,url:n,data:(r||{}).data}))}});l.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,c){return this.request(J(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}z.prototype[t]=n(),z.prototype[t+"Form"]=n(!0)});let Pr=class Ct{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,c){r.reason||(r.reason=new X(o,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ct(function(s){t=s}),cancel:t}}};function Lr(e){return function(n){return e.apply(null,n)}}function Fr(e){return l.isObject(e)&&e.isAxiosError===!0}const Te={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Te).forEach(([e,t])=>{Te[t]=e});function _t(e){const t=new z(e),n=ot(z.prototype.request,t);return l.extend(n,z.prototype,t,{allOwnKeys:!0}),l.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return _t(J(e,s))},n}const N=_t(ne);N.Axios=z;N.CanceledError=X;N.CancelToken=Pr;N.isCancel=wt;N.VERSION=Tt;N.toFormData=ye;N.AxiosError=g;N.Cancel=N.CanceledError;N.all=function(t){return Promise.all(t)};N.spread=Lr;N.isAxiosError=Fr;N.mergeConfig=J;N.AxiosHeaders=k;N.formToJSON=e=>bt(l.isHTMLForm(e)?new FormData(e):e);N.getAdapter=Rt.getAdapter;N.HttpStatusCode=Te;N.default=N;const{Axios:zr,AxiosError:Jr,CanceledError:Wr,isCancel:Vr,CancelToken:Kr,VERSION:Xr,all:Qr,Cancel:Gr,isAxiosError:Zr,spread:Yr,toFormData:es,AxiosHeaders:ts,HttpStatusCode:ns,formToJSON:rs,getAdapter:ss,mergeConfig:os}=N,Dr="/api/trades",P=N.create({baseURL:Dr,headers:{"Content-Type":"application/json"},timeout:1e4});P.interceptors.request.use(e=>{var t;return console.log(`[API] ${(t=e.method)==null?void 0:t.toUpperCase()} ${e.url}`),e},e=>Promise.reject(e));P.interceptors.response.use(e=>e,e=>{var t;return console.error("[API Error]",((t=e.response)==null?void 0:t.data)||e.message),Promise.reject(e)});const Ot={create:async e=>(await P.post("/",e)).data,getAll:async(e=1,t=50,n)=>{const r=new URLSearchParams({page:e.toString(),page_size:t.toString()});return n!=null&&n.ticker&&r.append("ticker",n.ticker),n!=null&&n.status&&r.append("status",n.status),n!=null&&n.strategy&&r.append("strategy",n.strategy),n!=null&&n.start_date&&r.append("start_date",n.start_date),n!=null&&n.end_date&&r.append("end_date",n.end_date),n!=null&&n.sort_by&&r.append("sort_by",n.sort_by),(n==null?void 0:n.sort_desc)!==void 0&&r.append("sort_desc",n.sort_desc.toString()),(await P.get(`/?${r}`)).data},getById:async e=>(await P.get(`/${e}`)).data,update:async(e,t)=>(await P.patch(`/${e}`,t)).data,close:async(e,t,n)=>{const r=new URLSearchParams({exit_price:t.toString()});return n&&r.append("exit_date",n),(await P.post(`/${e}/close?${r}`)).data},delete:async e=>{await P.delete(`/${e}`)},getPortfolioMetrics:async(e=1e5)=>(await P.get(`/metrics/portfolio?initial_capital=${e}`)).data,getDashboardSummary:async(e=1e5)=>(await P.get(`/metrics/dashboard?initial_capital=${e}`)).data,getStatsByTicker:async()=>(await P.get("/metrics/by-ticker")).data,generateTradeId:async(e="TRD")=>(await P.get(`/utils/generate-id?prefix=${e}`)).data.trade_id};function Ur(e=1,t=50,n){const[r,s]=w.useState([]),[o,a]=w.useState(0),[c,h]=w.useState(e),[u,d]=w.useState(t),[m,b]=w.useState(1),[p,f]=w.useState({}),[x,y]=w.useState(!1),[E,C]=w.useState(null),S=w.useCallback(async()=>{y(!0),C(null);try{const j=await Ot.getAll(c,u,p);s(j.trades),a(j.total),b(j.total_pages)}catch(j){C(j instanceof Error?j.message:"Failed to fetch trades"),s([])}finally{y(!1)}},[c,u,p]);w.useEffect(()=>{S()},[S]);const R=w.useCallback(()=>{S()},[S]),v=w.useCallback(j=>{f(j),h(1)},[]),U=w.useCallback(()=>{c<m&&h(j=>j+1)},[c,m]),O=w.useCallback(()=>{c>1&&h(j=>j-1)},[c]),Q=w.useCallback(j=>{j>=1&&j<=m&&h(j)},[m]);return{trades:r,total:o,page:c,pageSize:u,totalPages:m,filters:p,loading:x,error:E,refresh:R,setPage:h,setPageSize:d,updateFilters:v,nextPage:U,prevPage:O,goToPage:Q}}function Br(e=1e5){const[t,n]=w.useState(null),[r,s]=w.useState(!1),[o,a]=w.useState(null),c=w.useCallback(async()=>{s(!0),a(null);try{const u=await Ot.getDashboardSummary(e);n(u)}catch(u){a(u instanceof Error?u.message:"Failed to fetch dashboard")}finally{s(!1)}},[e]);w.useEffect(()=>{c()},[c]);const h=w.useCallback(()=>{c()},[c]);return{summary:t,loading:r,error:o,refresh:h}}const $r=()=>{const{trades:e,total:t,page:n,pageSize:r,totalPages:s,filters:o,loading:a,updateFilters:c,goToPage:h}=Ur(1,50),{summary:u}=Br(1e5),d=f=>{c(f)},m=()=>{c({})},b=(f,x)=>{c({...o,sort_by:f,sort_desc:x})},p=u==null?void 0:u.portfolio;return i.jsxs("div",{className:"min-h-screen bg-gray-100",children:[i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trading Dashboard"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Quantitative Strategy Performance"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:u!=null&&u.last_updated?new Date(u.last_updated).toLocaleString("en-AU"):"-"})]}),i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center",children:i.jsx(Be,{className:"w-5 h-5 text-white"})})]})]})})}),i.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-6 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Portfolio Value"}),i.jsx("p",{className:"text-4xl font-bold mt-1",children:p?I(p.total_value):"$0.00"}),i.jsx("div",{className:"flex items-center gap-4 mt-2",children:i.jsxs("span",{className:"text-blue-100",children:["Total Return:"," ",i.jsx("span",{className:p!=null&&p.total_return&&p.total_return>=0?"text-green-300":"text-red-300",children:p!=null&&p.total_return?le(p.total_return):"0.00%"})]})})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-xs",children:"Today"}),i.jsx("p",{className:`text-lg font-semibold ${((u==null?void 0:u.today_pnl)||0)>=0?"text-green-300":"text-red-300"}`,children:I((u==null?void 0:u.today_pnl)||0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-xs",children:"This Week"}),i.jsx("p",{className:`text-lg font-semibold ${((u==null?void 0:u.week_pnl)||0)>=0?"text-green-300":"text-red-300"}`,children:I((u==null?void 0:u.week_pnl)||0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-xs",children:"This Month"}),i.jsx("p",{className:`text-lg font-semibold ${((u==null?void 0:u.month_pnl)||0)>=0?"text-green-300":"text-red-300"}`,children:I((u==null?void 0:u.month_pnl)||0)})]})]})})]})})}),i.jsxs($e,{columns:4,className:"mb-6",children:[i.jsx(q,{label:"Total P&L",value:(p==null?void 0:p.total_pnl)||0,format:"currency",icon:Vt,iconColor:((p==null?void 0:p.total_pnl)||0)>=0?"text-green-500":"text-red-500"}),i.jsx(q,{label:"Win Rate",value:(p==null?void 0:p.win_rate)||0,format:"percent",icon:Qt,iconColor:"text-blue-500"}),i.jsx(q,{label:"Total Trades",value:(p==null?void 0:p.total_trades)||0,format:"number",icon:It,iconColor:"text-purple-500"}),i.jsx(q,{label:"Open Positions",value:(u==null?void 0:u.open_positions)||0,format:"number",icon:Wt,iconColor:"text-orange-500"})]}),i.jsxs($e,{columns:4,className:"mb-6",children:[i.jsx(q,{label:"Winning Trades",value:(p==null?void 0:p.winning_trades)||0,format:"number",icon:Zt,iconColor:"text-green-500"}),i.jsx(q,{label:"Losing Trades",value:(p==null?void 0:p.losing_trades)||0,format:"number",icon:Gt,iconColor:"text-red-500"}),i.jsx(q,{label:"Best Trade",value:(p==null?void 0:p.best_trade)||0,format:"currency",icon:qt,iconColor:"text-yellow-500"}),i.jsx(q,{label:"Avg P&L / Trade",value:(p==null?void 0:p.avg_pnl_per_trade)||0,format:"currency",icon:Be,iconColor:"text-indigo-500"})]}),i.jsx(on,{filters:o,onFilterChange:d,onClear:m}),i.jsx(rn,{trades:e,total:t,page:n,pageSize:r,totalPages:s,loading:a,onPageChange:h,onSort:b,sortBy:o.sort_by,sortDesc:o.sort_desc})]}),i.jsx("footer",{className:"bg-white border-t border-gray-200 mt-8",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[i.jsx("span",{children:"Quant Trading Dashboard v1.0.0"}),i.jsx("span",{children:"Trade Fee: $3 AUD per trade"})]})})})]})},qr=()=>i.jsx($r,{});Ee.createRoot(document.getElementById("root")).render(i.jsx(nt.StrictMode,{children:i.jsx(qr,{})}));
